@model ModelBindingDemo.Models.User

@{
    ViewBag.Title = "ComplexObjectForm";
}

<h2>ComplexObjectForm</h2>
@using (Html.BeginForm("ComplexObjectForm","Home"))
{
    <p>
       @Html.LabelFor(m => m.FirstName) 
       @Html.EditorFor(m => m.FirstName)
    </p>
    <p>
       @Html.LabelFor(m => m.LastName) 
       @Html.EditorFor(m => m.LastName)
    </p>
    <p>
       @Html.LabelFor(m => m.DateOfBirth) 
       <input id="dateofbirth" class="date-field" 
            name="DateOfBirth" type="text" />
    </p>
    <p>
       @Html.LabelFor(m => m.HomeAddress.Street) 
       @Html.EditorFor(m => m.HomeAddress.Street)
    </p>
    <p>
       @Html.LabelFor(m => m.HomeAddress.City) 
       @Html.EditorFor(m => m.HomeAddress.City)
    </p>
    <p>
       @Html.LabelFor(m => m.HomeAddress.PostCode) 
       @Html.EditorFor(m => m.HomeAddress.PostCode)
    </p>
    <p>
       @Html.LabelFor(m => m.HomeAddress.Country) 
       @Html.EditorFor(m => m.HomeAddress.Country)
    </p>
    <p>
       @*<input type="hidden" name="roles.Index" value="Contributor" />
       @Html.CheckBox("roles[Contributor].RoleName",new { value = "Contributor"}) Contributor<br />
       <input type="hidden" name="roles.Index" value="Editor" />
       @Html.CheckBox("roles[Editor].RoleName", new { value = "Editor" }) Editor<br />
       <input type="hidden" name="roles.Index" value="Manager" />
       @Html.CheckBox("roles[Manager].RoleName", new { value = "Manager" }) Manager<br />*@
       <input type="hidden" name="roles.Index" value="Manager" />
       <input name="roles[Manager].RoleName" type="checkbox" 
            value="Manager" /> Manager<br />
       <input type="hidden" name="roles.Index" value="Editor" />
       <input name="roles[Editor].RoleName" type="checkbox" 
            value="Editor" /> Editor<br />
       <input type="hidden" name="roles.Index" value="Contributor" />
       <input name="roles[Contributor].RoleName" type="checkbox" 
            value="Contributor" /> Contributor<br />
    </p>
    <p><input type="submit" value="Save" /></p>
}

<script type="text/javascript">
    $().ready(function () {
        $('#dateofbirth').datepicker({
            dateFormat: 'MM d, yy' ,
            changeMonth: true,
            changeYear: true
        });
    });
</script>
